
zmodload zsh/zprof

export DOTFILES=$HOME/.files
export PATH=$DOTFILES/bin:$PATH
export PATH=$PATH:~/.local/bin

# Shared settings for bash & zsh
source $DOTFILES/prompt/common.sh

# Python (virtualenvwrapper, pip, etc.)
WORKON_HOME=$HOME/.envs
PIP_VIRTUALENV_BASE=$WORKON_HOME
PIP_RESPECT_VIRTUALENV=true
export VIRTUALENVWRAPPER_PYTHON=$(which python3)
if [ "$VIRTUAL_ENV" ]; then 
    source $VIRTUAL_ENV/bin/activate; 
elif [ "$(which virtualenvwrapper.sh)" ]; then 
    source "$(which virtualenvwrapper.sh)"
fi

# macOS terminal themes
function light {
    iterm2_profile Light
    export USER_THEME="light"
}

function dark {
    iterm2_profile Default
    export USER_THEME="dark"
}

autoload -Uz compinit && compinit

# oh-my-zsh
export ZSH=$DOTFILES/prompt/oh-my-zsh
export ZSH_CUSTOM=$DOTFILES/prompt/zsh-plugins
plugins=(zsh-syntax-highlighting zsh-autosuggestions virtualenv)
source $ZSH/oh-my-zsh.sh
export VIRTUAL_ENV_DISABLE_PROMPT=0

# oh-my-posh
#if [ "$(which oh-my-posh)" ]; then
#    eval "$(oh-my-posh --init --shell zsh --config ~/.poshthemes/robbyrussel.omp.json)"
#fi

# starship
if command -v starship &> /dev/null
then
    eval "$(starship init zsh)"
fi

# Shared aliases, etc.
source $DOTFILES/prompt/aliases.sh


export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
