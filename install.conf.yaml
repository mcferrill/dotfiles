# TODO: mac settings eg: defaults write .GlobalPreferences com.apple.mouse.scaling -1

- defaults:
    link:
      relink: true

- install-brew: true

- brewfile:
    - Brewfile

- clean: ['~']

- create:
    - ~/.config
    - ~/.config/karabiner
    - ~/.config/nvim
    - ~/.config/tmux/plugins
    - ~/.hushlogin
    - ~/.vim/tmp/undo

- link:
    ~/.bashrc: config/bashrc
    ~/.config/nvim/init.lua: config/nvim.lua
    ~/.config/starship.toml: config/starship.toml
    ~/.config/tmux/plugins/tpm: tpm
    ~/.config/tmux/tmux.conf: config/tmux.conf
    ~/.gitconfig: config/gitconfig
    ~/.vimrc: config/vimrc
    ~/.zshrc: config/zshrc

- crossplatform-link:
    ~/.config/karabiner/karabiner.json:
        path: config/karabiner.json
        platform: darwin
    ~/.aerospace.toml:
        path: config/aerospace.toml
        platform: darwin

- crossplatform-shell:
    - command: defaults write com.apple.dock expose-group-apps -bool true && killall Dock
      platform: darwin
      description: Adjust expose to work with aerospace
    - command: defaults write com.apple.spaces spans-displays -bool true && killall SystemUIServer
      platform: darwin
      description: Adjust spaces spans-displays to work with aerospace

- shell:
  # Disabled mason update for now since it's not working on WSL
  - [nvim --headless "+Lazy! sync" +TSUpdate +qa, Installing neovim plugins]
  - [~/.config/tmux/plugins/tpm/bin/install_plugins || true, Installing tmux plugins]
  - [pdm plugin add pdm-django, Installing django plugin for pdm]
